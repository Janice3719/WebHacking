<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SQL Injection Demo</title>
    <style>
        body {
            font-family: 'Segoe UI', 'Arial', sans-serif;
            background: #f9fafb;
            margin: 0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .header {
            width: 100%;
            margin-top: 30px;
            text-align: center;
        }
        .sql-demo-box {
            margin: 30px 0 10px 0;
            padding: 22px 34px;
            background: #fff;
            border: 1px solid rgb(8, 45, 2);
            border-radius: 16px;
            width: 440px;
            box-shadow: 0 2px 8px #22336611;
        }
        .sql-demo-box input {
            width: 338px;
            font-size: 1.12rem;
            padding: 7px 10px;
            border: 1px solid #789;
            border-radius: 6px;
        }
        .sql-demo-box button {
            padding: 7px 18px;
            background: #3c5c2a;
            color: #fff;
            font-weight: bold;
            border: none;
            border-radius: 6px;
            margin-left: 10px;
            cursor: pointer;
            font-size: 1.06rem;
        }
        .sql-demo-box .query {
            font-family: monospace;
            background: #d5ecd4;
            padding: 7px 10px;
            margin: 20px 0 3px 0;
            border-radius: 7px;
            color: #1b212c;
            word-break: keep-all;
        }
        .table-wrap {
            width: 560px;
            margin-bottom: 14px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            background: #fff;
            font-size: 1.08rem;
        }
        th, td {
            border: 1px solid #b1d5bf;
            padding: 9px 6px;
            text-align: left;
        }
        th {
            background: #d0e7c8;
        }
        tr:nth-child(even) td {
            background: #fcfdff;
        }
        .help {
            width: 440px;
            background: #ffeef4;
            border-radius: 12px;
            padding: 17px 21px 7px 21px;
            font-size: 1.01rem;
            margin-bottom:25px;
        }
    </style>
    <style>
.help-slide { display: none; }
.help-slide.active { display: block; }
.db-table {
  border-collapse: collapse;
  margin: 24px auto 30px auto;
  min-width: 600px;
  background: #f6fff6;
  box-shadow: 0 2px 8px #d4efd4a0;
  font-size: 15px;
  border: 1.5px solid #95d690;
  border-radius: 7px;
  overflow: hidden;
}
.db-table th {
  background: #abeda4;
  color: #225728;
  padding: 9px 12px;
  border-bottom: 2px solid #97db85;
  letter-spacing: 1px;
}
.db-table td {
  padding: 8px 12px;
  text-align: center;
  border-bottom: 1px solid #d1eed1;
  color: #2e6333;
  word-break: break-all;
}
.db-table tr:last-child td {
  border-bottom: none;
}
.slide-btns {
  text-align: center;
  margin-top: 8px;
}
.slide-btns button {
  margin: 0 3px;
  padding: 4px 16px;
  border-radius: 6px;
  border: none;
  background: #bfe9a3;
  color: #1c366b;
  font-size: 15px;
  cursor: pointer;
  transition: background 0.18s;
}
.slide-btns button:active {
  background: #bfe9a3;
  color: #fff;
}
.slide-btns button:disabled {
  background: #d2ecc2c1;
  color: #b2bfd7;
  cursor: not-allowed;
}
.helpbox {
  width: 530px;
  height : 300px;
  margin: 38px auto 28px auto;
  background: #e3ffd1c1;
  border-radius: 13px;
  padding: 18px 24px 6px 24px;
  box-shadow: 0 2px 7px rgba(146, 255, 100, 0.07);
}
.helpbox h3 {
  margin:0 0 8px 0;
}
.helpbox ul {
  padding-left:15px;
  margin:0;
  color:#3c5c2a;
}
.helpbox code {
  background: #c4ebbc;
  border-radius: 4px;
  padding: 0 3px;
}
form {
  border: 2px solid rgb(8, 45, 2);
  width: 500px;
  margin: 0 auto;
}
    </style>
</head>
<body>
     <!-- ìŠ¬ë¼ì´ë“œ ë„ì›€ë§ START -->
<div class="helpbox">
  <div class="help-slide active" id="slide1">
    <h3>ğŸ”° ì´ˆë³´ìë¥¼ ìœ„í•œ ë„ì›€ë§</h3>
    <ul>
      <li>
        <b>SQL Injection ì´ë€?</b> ì‚¬ìš©ìê°€ ì…ë ¥í•œ ê°’ì„ ì„œë²„ì—ì„œ ê²€ì¦í•˜ì§€ ì•Šê³  ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ ì¼ë¶€ë¶„ìœ¼ë¡œ ì¸ì‹í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì •ë³´ê°€ ë…¸ì¶œë˜ê±°ë‚˜ ì¸ì¦ì´ ìš°íšŒë˜ëŠ” ì·¨ì•½ì ì´ì—ìš”.<br>
       <br>
      </li>
      <b>ğŸ”‘ SQL ì¸ì ì…˜ ì‹¤ìŠµ ì•ˆë‚´:</b><br>
        1. í‰ë²”í•˜ê²Œ íšŒì›ì´ë¦„ìœ¼ë¡œ ê²€ìƒ‰í•˜ë©´ í•´ë‹¹ íšŒì›ì´ë¦„ë§Œ ë‚˜ì˜µë‹ˆë‹¤.<br>
        2. <b><code>' OR 1=1 --</code></b>ë¥¼ ì…ë ¥í•´ ë³´ì„¸ìš”.<br>
        &nbsp;&nbsp;&nbsp;&nbsp;ëª¨ë“  íšŒì› ì •ë³´ê°€ ë‹¤ ë‚˜ì˜µë‹ˆë‹¤ (=SQL ì¸ì ì…˜ ì„±ê³µ).<br>
        3. ì‹¤ì œ SQL ì¿¼ë¦¬ê°€ ì–´ë–»ê²Œ ë§Œë“¤ì–´ì§€ëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”.<br>
        <br>
        <b>ì‹¤ì œ ì„œë¹„ìŠ¤ì—ì„œëŠ” ì´ë ‡ê²Œ ì…ë ¥ê°’ì„ ì§ì ‘ SQLì— ë„£ìœ¼ë©´ <span style="color:red;">ì ˆëŒ€ ì•ˆ ë©ë‹ˆë‹¤!</span></b>
    </ul>
  </div>
  
</div>
<!-- ìŠ¬ë¼ì´ë“œ ë„ì›€ë§ END -->


    <div class="header"></div>
    </div>
    <div class="sql-demo-box">
        <div><b>íšŒì›ì´ë¦„</b>ìœ¼ë¡œ ê²€ìƒ‰í•©ë‹ˆë‹¤.</div>
<div style="margin-top:8px;">
  <input id="searchInput" placeholder="ì˜ˆ) hong" style="width:338px;">
  <button onclick="searchBoard()" style="margin-left:8px;">ê²€ìƒ‰</button>
</div>

        <div class="query" id="sqlQuery"></div>
    </div>
      <h1>í˜„ì¬ íšŒì› ë°ì´í„°ë² ì´ìŠ¤</h1>
    <div class="table-wrap">
        <table>
            <thead>
                <tr>
                    <th style="width:20%;">íšŒì›ì´ë¦„(ID)</th>
                    <th style="width:22%;">ë¹„ë°€ë²ˆí˜¸</th>
                    <th style="width:58%;">ì´ë©”ì¼</th>
                </tr>
            </thead>
            <tbody id="resultBody"></tbody>
        </table>
    </div>


    <script>
        // íšŒì› ë°ì´í„°
        const usersData = [
            { username: "hong", password: "hongpass123" , email : "hong@sample.com"},
            { username: "kim22", password: "kimpw2025", email : "kim22@sample.com" },
            { username: "lee33", password: "manager054", email : "lee33@sample.com" },
            { username: "JUN046", password: "history041", email : "JUN046@sample.com" },
            { username: "ELLA", password: "enfr88", email : "ELLA@sample.com" }
        ];

        function searchBoard() {
            const inputVal = document.getElementById('searchInput').value;
            // 1. ì‹œë®¬ë ˆì´ì…˜: ì…ë ¥ê°’ì„ ê·¸ëŒ€ë¡œ SQLë¬¸ì— "ì·¨ì•½"í•˜ê²Œ ë¼ì›Œë„£ìŒ
            // ì‹¤ì œ SQL êµ¬ë¬¸ì²˜ëŸ¼ í™”ë©´ì— ë³´ì—¬ì¤Œ
            const query = `SELECT * FROM users WHERE username = '${inputVal}'`;
            document.getElementById('sqlQuery').textContent = query;

            // 2. ê²°ê³¼ ì‹œë®¬ë ˆì´ì…˜ (ì·¨ì•½í•˜ê²Œ íŒŒì‹±: ' OR 1=1 -- ìœ¼ë¡œ ì „ì²´ ë°˜í™˜)
            let result;
            // ì‹¤ì œ ì¸ì ì…˜ ê³µê²© : '~' OR 1=1 -- í˜•íƒœì¸ ê²½ìš° ì „ì²´ê²€ìƒ‰
            if(/('|")\s*or\s*1\s*=\s*1\s*--?/i.test(inputVal)) {
                result = usersData; // ì¸ì ì…˜ ì„±ê³µ, ì „ì²´ ê²€ìƒ‰
            } else {
                // í‰ë²”í•œ ê²½ìš°: usernameì´ ì •í™•íˆ ì¼ì¹˜í•˜ëŠ” íšŒì›ë§Œ ë°˜í™˜
                result = usersData.filter(b => b.username === inputVal);
            }
            showResults(result);
        }

        function showResults(data) {
            const tbody = document.getElementById('resultBody');
            tbody.innerHTML = '';
            if(data.length === 0) {
                tbody.innerHTML = `<tr><td colspan="3" style="text-align:center;color:#888;">ê²€ìƒ‰ ê²°ê³¼ ì—†ìŒ</td></tr>`;
                return;
            }
            data.forEach(row => {
                tbody.innerHTML += `<tr><td>${row.username}</td><td>${row.password}</td><td>${row.email}</td></tr>`;
            });
        }


    </script>
</body>
</html>
